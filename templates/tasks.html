{{ if .tasks }}
    {{ range .tasks }}
        <div id="task-{{ .TaskID }}" class="task-item">
            <!-- Toggle checkbox -->
            <input type="checkbox"
                   {{ if .IsCompleted }}checked{{ end }}
                   hx-put="/tasks/{{ .TaskID }}/toggle"
                   hx-target="#task-{{ .TaskID }}"
                   hx-swap="outerHTML">

            <!-- 
                Task title
                clicking this expands full description
            -->
            <div class="task-content"
                 hx-get="/tasks/{{ .TaskID }}/details"
                 hx-target="#task-{{ .TaskID }}"
                 hx-trigger="click"
                 hx-swap="outerHTML">
                <h3>{{ .TaskName }}</h3>
            </div>

            <div class="task-actions">
                <!-- Edit button -->
                <button hx-get="/tasks/{{ .TaskID }}/edit"
                        hx-target="#task-{{ .TaskID }}"
                        hx-swap="outerHTML"
                        class="edit-btn">Edit</button>

                <!-- Delete button -->
                <button hx-delete="/tasks/{{ .TaskID }}"
                        hx-target="#task-{{ .TaskID }}"
                        hx-swap="outerHTML swap:1s"
                        hx-confirm="Are you sure you want to delete this task?"
                        class="delete-btn">Delete</button>
            </div>
        </div>
    {{ end }}
{{ else }}
    <div class="empty-state">No tasks yet please create one.</div>
{{ end }}
